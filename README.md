# Что это?
 
Приложение для стримера (https://www.twitch.tv/tech_xx1), призванное анимировать рамку с глазом вокруг его вебкамеры с помощью сверточной нейронной сети (чтобы глаз двигался за его взглядом или, по крайней мере, движением головы). Pet-проект в свое удовольствие.

## Как это запустить?

```bash
  pip install requirements.txt
```
```bash
  python main.py
```

## Я хочу переобучить модель, как это сделать?

- Скачиваешь архив с набором изображений и распаковываешь в папку проекта (https://drive.google.com/file/d/1HR_0W0iUN4AWvI-IiA4pbqjCRJV50KVV/view?usp=sharing). Важно, чтобы картинки хранились в папке img корневого проекта (в противном случае можно отредактировать путь до директории в исполняемых файлах проекта)
*********
![tree](https://github.com/Weenty/AnimatedEye/raw/master/picturesForGit/tree.png)
*********
- Редактируешь нейронку в **train.py** и запускаешь обучение (после смены архитектуры нейронки важно изменить её также в основном файле **main.py** и прописать путь для новых весов, которые сгенерируются)

## Как создавать или дополнять датасет?

- Вымеряешь область пикселей для захвата нужного изображения (в нашем случае это вебкамера стримера)
- Редактируешь подобранные пиксели в **createImages.py**
- Переносишь **createImages.py** в папку **/img** (если нету, то создать в корневой директории)
- запустить **createImages.py**
По стандарту скриншот происходит на клавишу
```
`
```
Но это можно отредактировать в конце файла **createImages.py**.
Важно после генерации необходимого количества изображений убрать **createImages.py** из папки **/img**, чтобы не вызвать ошибок при запуске **train.py**

- При запуске **check.py** можно получить информацию по количеству изображений каждого класса в папке **/img** (это полезно для балансировки датасета, потому что для нормального обучения каждого класса изображений должно быть примерно поровну)

## Проблемы
- Поскольку приложение разрабатывалось для стримера, есть проблема получения потока с вебкамеры, потому что она уже работает в OBS (есть решение, в рамках которого будет происходить раздвоение потока с вебкамеры на стрим и виртуальную вебкамеру OBS, однако это ресурсозатратно, а потому нерелевантно для такого незначительного приложения).
- Само приложение является рамкой с прозрачным фоном (для захвата его в OBS и последующим размещением внутри вебкамеры на стриме), однако OBS воспринимает по разному данное приложение (у меня работает корректно, а у стримера фон приложения не прозрачный, а попросту черный при захвате). Это может быть связано с самим OBS (т.е его версией) или непосредственно операционной системой, в которой все происходит. 